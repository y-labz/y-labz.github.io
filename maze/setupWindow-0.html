<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>A MAZE ANIMATION by y-labz</title>
    <meta name="description" content="A maze animation with tron color, Depth-first search">
    <meta name="theme-color" content="#7DFDFE">
    <link rel="icon" href="../icon/rocket.svg" type="image/svg">
    <!-- Open Graph for social media -->
    <meta property="og:title" content="A MAZE ANIMATION by y-labz">
    <meta property="og:description" content="A maze animation with tron color, Depth-first search">
    <meta property="og:url" content="https://y-labz.github.io/maze/">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://y-labz.github.io/maze/preview.jpg">

    <style>
    body {
      margin: 8px;
      background: #111;
      display: flex; /* here parent, sothat child can use flex: */
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    #container {
      display: flex;
      justify-content: center;
      align-items: center;
      background: #222;
      border: 2px solid #3DFFFC;
      margin: 8px;
      box-sizing: border-box; /* w and h include border */
    }

    #game {
      width: 100%;
      height: auto;
      max-width: 100%;
      image-rendering: pixelated;
      background: #111;
      display: block;
    }

    #log {
      color: #7DFDFE; /* #0f0 lime */
      /* color: #3DFFFC; /* brighter cyan */
      padding: 1rem;
      overflow-y: auto;
      font-size: 16px;
      font-family: "Courier New", Courier, monospace; /* "Consolas", */
      line-height: 1.2;
      border: 2px solid #3DFFFC;
      margin: 8px;
      box-sizing: border-box;
    }

    #log, #container {
      box-shadow: 0 0 8px #3DFFFC;
    }

    </style>

  </head>

  <body>
    <script>
const banner = `
      ▜   ▌    
  ▌▌▄▖▐ ▀▌▛▌▀▌ 
  ▙▌  ▐▖█▌▙▌▙▖.
  ▄▌           
               
`;

//-----------------------------------------------------
function setupWindow() {
  let L0 = Math.min(window.innerWidth, window.innerHeight);
  let L1 = Math.max(window.innerWidth, window.innerHeight);
  //body margin 8, div margin 8, border-box excluded border2
  L0 = L0 - 32;
  L1 = L1 - 32 - L0 - 16;
  const container = document.createElement('div');
  container.id = "container";
  container.style.width = L0 + "px";
  container.style.height = L0 + "px";
  // document.body.appendChild(container);

  // add log window Responsive layout
  const logWindow = document.createElement('div');
  logWindow.id = "log";
  if (window.innerWidth > window.innerHeight) {
    // Landscape – side by side
    logWindow.style.height = L0 + "px";
    logWindow.style.width = L1 + "px";
    const wrapper = document.createElement('div');
    wrapper.style.display = "flex";
    wrapper.style.flexDirection = "row";
    // logWindow.style.flex = "1 1 auto";
    wrapper.appendChild(container);
    wrapper.appendChild(logWindow);
    document.body.appendChild(wrapper);
  } else {
    // Portrait – stacked flex column set in css
    document.body.appendChild(container);
    logWindow.style.width = L0 + "px";
    logWindow.style.height = L1 + "px";
    document.body.appendChild(logWindow);
  }

  //add canvas here, max L0-border2
  const canvas = document.createElement('canvas');
  canvas.id = "game"
  // canvas.width = gameDim
  // canvas.height = gameDim
  // const ctx = canvas.getContext("2d");
  canvas.style.width = L0 - 4 + "px";
  canvas.style.height = L0 - 4 + "px";
  container.appendChild(canvas);
}

//-----------------------------------------------------
// Backup the original log function
const originalConsoleLog = console.log;
// Override console.log
console.log = function (...args) {
  // still logs in browser console
  // originalConsoleLog.apply(console, args);

  const message = args.map(arg =>
    typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
  ).join(' ');

  const logLine = document.createElement('div');
  logLine.textContent = message;
  logLine.style.whiteSpace = "pre-wrap";

  const logWindow = document.getElementById("log");
  if (logWindow) {
    logWindow.appendChild(logLine);
    // Trim to last 100 logs
    const maxLogs = 100;
    while (logWindow.children.length > maxLogs) {
      logWindow.removeChild(logWindow.firstChild); // remove oldest
    }
    logWindow.scrollTop = logWindow.scrollHeight;
  }
};

//-----------------------------------------------------
function loop() {
  // requestAnimationFrame(loop);
  // setTimeout(loop, 100); // 100 ms pause = 10 frames per second
}

setupWindow();
console.log(banner);
console.log("... implemented by y-labz, 2025-06 🚀");
console.log("... game starting now ...");
console.log("... ...");
// for (let i = 0; i < 20; i++) { loop(); }
// loop();


</script>
  </body>
</html>

